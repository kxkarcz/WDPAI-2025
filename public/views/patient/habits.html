<section class="dashboard-grid dashboard-grid--patient" data-user-id="<?= (int) $user->getId() ?>">
    <?= $successHtml ?? '' ?>
    <?= $errorHtml ?? '' ?>

    <section class="card card--habits">
        <header class="card__header card__header--with-action">
            <div>
                <h2>Mikronawyki</h2>
                <p>Śledź swoje codzienne nawyki i obserwuj postęp.</p>
            </div>
            <div style="display: flex; gap: 0.5rem;">
                <button class="button button--ghost" id="refresh-habits">Odśwież</button>
                <button class="button button--secondary" id="add-habit-btn">Dodaj nawyk</button>
            </div>
        </header>
        <form class="form-grid is-hidden" id="add-habit-form" style="margin-bottom: 1rem; padding: 1rem; background: rgba(42, 157, 143, 0.05); border-radius: 12px;">
            <label class="form-field">
                <span>Nazwa nawyku</span>
                <input type="text" name="name" required placeholder="np. Poranna medytacja">
            </label>
            <label class="form-field">
                <span>Opis (opcjonalnie)</span>
                <textarea name="description" rows="2" placeholder="Krótki opis nawyku"></textarea>
            </label>
            <label class="form-field">
                <span>Cel częstotliwości (dni w tygodniu)</span>
                <input type="number" name="frequency_goal" min="1" max="21" value="5" required>
            </label>
            <div style="grid-column: 1 / -1; display: flex; gap: 0.5rem;">
                <button type="submit" class="button button--primary">Utwórz</button>
                <button type="button" class="button button--ghost" id="cancel-habit-btn">Anuluj</button>
            </div>
        </form>
        <ul class="habit-list" id="habit-list">
            <?= $habitsHtml ?? '' ?>
        </ul>
    </section>
</section>
