<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: #f7fdfb; background-color: light-dark(#f7fdfb, #111615); color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1602px" height="1222px" viewBox="0 0 1602 1222" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0&quot; compressed=&quot;false&quot; version=&quot;29.2.7&quot;&gt;&#10;  &lt;diagram id=&quot;J7WmcjxbzPTJ7rql9eU2&quot; name=&quot;Architecture&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;2536&quot; dy=&quot;1611&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1600&quot; pageHeight=&quot;1200&quot; background=&quot;#f7fdfb&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;docker&quot; parent=&quot;1&quot; style=&quot;shape=swimlane;startSize=40;swimlaneLine=0;swimlaneLineColor=#2A9D8F;swimlaneFillColor=#2A9D8F;fillColor=#ffffff;strokeColor=#2A9D8F;fontColor=light-dark(#FFFFFF,#FFFFFF);fontStyle=1;rounded=1;fontSize=20;verticalAlign=top;&quot; value=&quot;Docker Compose Environment&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;1100&quot; width=&quot;1600&quot; x=&quot;60&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;network&quot; parent=&quot;docker&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=none;fontColor=#12302b;fontSize=11;dashed=1;opacity=50;&quot; value=&quot;mindgarden-network (bridge)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;1060&quot; width=&quot;1440&quot; x=&quot;20&quot; y=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MIi9Vsr8QbXr4GMsG1nW-3&quot; edge=&quot;1&quot; parent=&quot;docker&quot; source=&quot;nginx&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=7;endSize=6;&quot; target=&quot;php&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;300&quot; y=&quot;550&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nginx&quot; parent=&quot;docker&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=12;&quot; value=&quot;nginx (Reverse Proxy)&amp;#xa;• Port: 8080:80&amp;#xa;• Serves /public assets&amp;#xa;• FastCGI proxy → php:9000&amp;#xa;• Static file serving&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;140&quot; width=&quot;280&quot; x=&quot;40&quot; y=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;php&quot; parent=&quot;docker&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=14;fontStyle=1;verticalAlign=top;&quot; value=&quot;php-fpm (MindGarden Application)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;900&quot; width=&quot;800&quot; x=&quot;360&quot; y=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;public&quot; parent=&quot;php&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=11;&quot; value=&quot;public/ (Views + Assets)&amp;#xa;• views/ (HTML templates)&amp;#xa;  - auth/, patient/, psychologist/, admin/&amp;#xa;  - layout.html, dashboard.html&amp;#xa;• styles/ (CSS)&amp;#xa;  - main.css, dashboard.css, patient.css&amp;#xa;  - Dark mode support&amp;#xa;• scripts/ (JavaScript)&amp;#xa;  - AJAX, Chart.js integration&amp;#xa;  - Theme toggle, searchable select&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;180&quot; width=&quot;360&quot; x=&quot;20&quot; y=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;core&quot; parent=&quot;php&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=11;&quot; value=&quot;Core Components&amp;#xa;• Database (PDO connection)&amp;#xa;• Autoloader (PSR-4)&amp;#xa;• Env (environment variables)&amp;#xa;• Routing (route registration)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;180&quot; width=&quot;360&quot; x=&quot;420&quot; y=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mvc_layer&quot; parent=&quot;php&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#E9F5F1;fontColor=#12302b;fontStyle=1;fontSize=13;verticalAlign=top;&quot; value=&quot;MVC Application Layer&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;380&quot; width=&quot;760&quot; x=&quot;20&quot; y=&quot;290&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;controllers&quot; parent=&quot;mvc_layer&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=11;&quot; value=&quot;Controllers&amp;#xa;• SecurityController (login/register)&amp;#xa;• DashboardController (routing)&amp;#xa;• PatientController (moods, habits, chat)&amp;#xa;• PsychologistController (analysis, export)&amp;#xa;• AdminController (user management)&amp;#xa;• ApiController (AJAX endpoints)&amp;#xa;• SettingsController (theme toggle)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;160&quot; width=&quot;340&quot; x=&quot;20&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;models&quot; parent=&quot;mvc_layer&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=11;&quot; value=&quot;Models (Domain Entities)&amp;#xa;• User, PatientProfile, PsychologistProfile&amp;#xa;• MoodEntry, EmotionCategory, EmotionSubcategory&amp;#xa;• Habit, HabitLog&amp;#xa;• Badge, ChatThread, ChatMessage&amp;#xa;• AnalysisEntry&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;160&quot; width=&quot;340&quot; x=&quot;400&quot; y=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;repositories&quot; parent=&quot;mvc_layer&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=11;&quot; value=&quot;Repositories (Data Access)&amp;#xa;• UserRepository&amp;#xa;• PatientRepository&amp;#xa;• PsychologistRepository&amp;#xa;• MoodRepository&amp;#xa;• HabitRepository, BadgeRepository&amp;#xa;• EmotionRepository&amp;#xa;• ChatRepository&amp;#xa;• AnalysisRepository&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;140&quot; width=&quot;340&quot; x=&quot;20&quot; y=&quot;220&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;services&quot; parent=&quot;mvc_layer&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=11;&quot; value=&quot;Services&amp;#xa;• AuthService&amp;#xa;  - Authentication&amp;#xa;  - Authorization (role-based)&amp;#xa;  - Session management&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;140&quot; width=&quot;340&quot; x=&quot;400&quot; y=&quot;220&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;edge_controllers_repositories&quot; edge=&quot;1&quot; parent=&quot;mvc_layer&quot; source=&quot;controllers&quot; style=&quot;strokeColor=#2A9D8F;strokeWidth=1;endArrow=block;endFill=1;dashed=1;&quot; target=&quot;repositories&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;php_info&quot; parent=&quot;php&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#E9F5F1;fontColor=#12302b;fontSize=11;&quot; value=&quot;PHP 8.3 FPM Alpine&amp;#xa;• index.php + Routing.php&amp;#xa;• CSV Export&amp;#xa;• AJAX API Endpoints&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;100&quot; width=&quot;360&quot; x=&quot;20&quot; y=&quot;700&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MIi9Vsr8QbXr4GMsG1nW-5&quot; edge=&quot;1&quot; parent=&quot;docker&quot; source=&quot;postgres&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=7;endArrow=none;endFill=0;startArrow=classic;startFill=1;&quot; target=&quot;php&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MIi9Vsr8QbXr4GMsG1nW-6&quot; edge=&quot;1&quot; parent=&quot;docker&quot; source=&quot;postgres&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=7;&quot; target=&quot;pgadmin&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;postgres&quot; parent=&quot;docker&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=12;&quot; value=&quot;PostgreSQL Database&amp;#xa;• Port: 5433:5432&amp;#xa;• Database: mindgarden&amp;#xa;• init.sql (schema + seed)&amp;#xa;• Views, Functions, Triggers&amp;#xa;• 3NF Normalization&amp;#xa;• 14 tables&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;200&quot; width=&quot;300&quot; x=&quot;1260&quot; y=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;pgadmin&quot; parent=&quot;docker&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#ffffff;fontColor=#12302b;fontSize=12;&quot; value=&quot;pgAdmin 4 (Monitoring)&amp;#xa;• Port: 5050:80&amp;#xa;• Database administration&amp;#xa;• Query interface&amp;#xa;• Schema inspection&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;140&quot; width=&quot;300&quot; x=&quot;1260&quot; y=&quot;360&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;edge_nginx_php&quot; edge=&quot;1&quot; parent=&quot;docker&quot; source=&quot;nginx&quot; style=&quot;strokeColor=#2A9D8F;strokeWidth=2;endArrow=block;endFill=1;&quot; target=&quot;php&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;320&quot; y=&quot;170&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;360&quot; y=&quot;170&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;edge_php_postgres&quot; edge=&quot;1&quot; parent=&quot;docker&quot; source=&quot;php&quot; style=&quot;strokeColor=#2A9D8F;strokeWidth=2;endArrow=block;endFill=1;&quot; target=&quot;postgres&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1160&quot; y=&quot;200&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1200&quot; y=&quot;200&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;edge_pgadmin_postgres&quot; edge=&quot;1&quot; parent=&quot;docker&quot; source=&quot;pgadmin&quot; style=&quot;strokeColor=#2A9D8F;strokeWidth=2;endArrow=block;endFill=1;&quot; target=&quot;postgres&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1350&quot; y=&quot;340&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1350&quot; y=&quot;300&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;MIi9Vsr8QbXr4GMsG1nW-2&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;client&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=7;&quot; target=&quot;nginx&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;client&quot; parent=&quot;1&quot; style=&quot;shape=rectangle;rounded=1;strokeColor=#2A9D8F;fillColor=#E9F5F1;fontColor=#12302b;fontSize=12;fontStyle=1;&quot; value=&quot;Client Browser&amp;#xa;HTTP/HTTPS Requests&amp;#xa;AJAX Calls&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;80&quot; width=&quot;200&quot; x=&quot;60&quot; y=&quot;1180&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;edge_client_nginx&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;client&quot; style=&quot;strokeColor=#2A9D8F;strokeWidth=2;endArrow=block;endFill=1;&quot; target=&quot;nginx&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;160&quot; y=&quot;1180&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;160&quot; y=&quot;240&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><rect fill="#f7fdfb" width="100%" height="100%" x="0" y="0" style="fill: light-dark(rgb(247, 253, 251), rgb(17, 22, 21));"/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="docker"><g transform="translate(0.5,0.5)"><path d="M 1600 40 L 1600 18 Q 1600 0 1582 0 L 18 0 Q 0 0 0 18 L 0 40" fill="#ffffff" stroke="#2a9d8f" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/><path d="M 0 40 L 0 1082 Q 0 1100 18 1100 L 1582 1100 Q 1600 1100 1600 1082 L 1600 40" fill="#2a9d8f" stroke="#2a9d8f" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(42, 157, 143), rgb(47, 146, 134)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#FFFFFF" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="20px" style="fill: rgb(255, 255, 255);"><text x="800" y="26">Docker Compose Environment</text></g></g><g data-cell-id="network"><g transform="translate(0.5,0.5)"><rect x="20" y="60" width="1440" height="1060" rx="159" ry="159" fill="none" stroke="#2a9d8f" stroke-opacity="0.5" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="740" y="594.5">mindgarden-network (bridge)</text></g></g></g><g data-cell-id="MIi9Vsr8QbXr4GMsG1nW-3"><g transform="translate(0.5,0.5)"><path d="M 300 240 L 300 550.11 L 342.42 550.11" fill="none" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 352.17 550.11 L 339.17 556.61 L 342.42 550.11 L 339.17 543.61 Z" fill="#000000" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="nginx"><g transform="translate(0.5,0.5)"><rect x="40" y="100" width="280" height="140" rx="21" ry="21" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="180" y="147">nginx (Reverse Proxy)</text><text x="180" y="161">• Port: 8080:80</text><text x="180" y="175">• Serves /public assets</text><text x="180" y="189">• FastCGI proxy → php:9000</text><text x="180" y="203">• Static file serving</text></g></g></g><g data-cell-id="php"><g transform="translate(0.5,0.5)"><rect x="360" y="100" width="800" height="900" rx="120" ry="120" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="14px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="760" y="120">php-fpm (MindGarden Application)</text></g></g><g data-cell-id="public"><g transform="translate(0.5,0.5)"><rect x="380" y="160" width="360" height="180" rx="27" ry="27" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="560" y="196">public/ (Views + Assets)</text><text x="560" y="209">• views/ (HTML templates)</text><text x="560" y="222">  - auth/, patient/, psychologist/, admin/</text><text x="560" y="235">  - layout.html, dashboard.html</text><text x="560" y="248">• styles/ (CSS)</text><text x="560" y="261">  - main.css, dashboard.css, patient.css</text><text x="560" y="274">  - Dark mode support</text><text x="560" y="287">• scripts/ (JavaScript)</text><text x="560" y="300">  - AJAX, Chart.js integration</text><text x="560" y="313">  - Theme toggle, searchable select</text></g></g></g><g data-cell-id="core"><g transform="translate(0.5,0.5)"><rect x="780" y="160" width="360" height="180" rx="27" ry="27" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="960" y="228.5">Core Components</text><text x="960" y="241.5">• Database (PDO connection)</text><text x="960" y="254.5">• Autoloader (PSR-4)</text><text x="960" y="267.5">• Env (environment variables)</text><text x="960" y="280.5">• Routing (route registration)</text></g></g></g><g data-cell-id="mvc_layer"><g transform="translate(0.5,0.5)"><rect x="380" y="390" width="760" height="380" rx="57" ry="57" fill="#e9f5f1" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(233, 245, 241), rgb(20, 31, 27)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="13px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="760" y="409">MVC Application Layer</text></g></g><g data-cell-id="controllers"><g transform="translate(0.5,0.5)"><rect x="400" y="430" width="340" height="160" rx="24" ry="24" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="570" y="469">Controllers</text><text x="570" y="482">• SecurityController (login/register)</text><text x="570" y="495">• DashboardController (routing)</text><text x="570" y="508">• PatientController (moods, habits, chat)</text><text x="570" y="521">• PsychologistController (analysis, export)</text><text x="570" y="534">• AdminController (user management)</text><text x="570" y="547">• ApiController (AJAX endpoints)</text><text x="570" y="560">• SettingsController (theme toggle)</text></g></g></g><g data-cell-id="models"><g transform="translate(0.5,0.5)"><rect x="780" y="430" width="340" height="160" rx="24" ry="24" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="950" y="482">Models (Domain Entities)</text><text x="950" y="495">• User, PatientProfile, PsychologistProfile</text><text x="950" y="508">• MoodEntry, EmotionCategory, EmotionSubcategory</text><text x="950" y="521">• Habit, HabitLog</text><text x="950" y="534">• Badge, ChatThread, ChatMessage</text><text x="950" y="547">• AnalysisEntry</text></g></g></g><g data-cell-id="repositories"><g transform="translate(0.5,0.5)"><rect x="400" y="610" width="340" height="140" rx="21" ry="21" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="570" y="632.5">Repositories (Data Access)</text><text x="570" y="645.5">• UserRepository</text><text x="570" y="658.5">• PatientRepository</text><text x="570" y="671.5">• PsychologistRepository</text><text x="570" y="684.5">• MoodRepository</text><text x="570" y="697.5">• HabitRepository, BadgeRepository</text><text x="570" y="710.5">• EmotionRepository</text><text x="570" y="723.5">• ChatRepository</text><text x="570" y="736.5">• AnalysisRepository</text></g></g></g><g data-cell-id="services"><g transform="translate(0.5,0.5)"><rect x="780" y="610" width="340" height="140" rx="21" ry="21" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="950" y="658.5">Services</text><text x="950" y="671.5">• AuthService</text><text x="950" y="684.5">  - Authentication</text><text x="950" y="697.5">  - Authorization (role-based)</text><text x="950" y="710.5">  - Session management</text></g></g></g><g data-cell-id="edge_controllers_repositories"><g transform="translate(0.5,0.5)"><path d="M 570 590 L 570 601.88" fill="none" stroke="#2a9d8f" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke" style="stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/><path d="M 570 608.88 L 566.5 601.88 L 573.5 601.88 Z" fill="#2a9d8f" stroke="#2a9d8f" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(42, 157, 143), rgb(47, 146, 134)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g></g></g><g data-cell-id="php_info"><g transform="translate(0.5,0.5)"><rect x="380" y="800" width="360" height="100" rx="15" ry="15" fill="#e9f5f1" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(233, 245, 241), rgb(20, 31, 27)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="560" y="835">PHP 8.3 FPM Alpine</text><text x="560" y="848">• index.php + Routing.php</text><text x="560" y="861">• CSV Export</text><text x="560" y="874">• AJAX API Endpoints</text></g></g></g></g><g data-cell-id="MIi9Vsr8QbXr4GMsG1nW-5"><g transform="translate(0.5,0.5)"><path d="M 1242.42 190.11 L 1210 190.11 L 1210 550.11 L 1160 550.11" fill="none" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1252.17 190.11 L 1239.17 196.61 L 1242.42 190.11 L 1239.17 183.61 Z" fill="#000000" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="MIi9Vsr8QbXr4GMsG1nW-6"><g transform="translate(0.5,0.5)"><path d="M 1410 290 L 1410 342.42" fill="none" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1410 352.17 L 1403.5 339.17 L 1410 342.42 L 1416.5 339.17 Z" fill="#000000" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="postgres"><g transform="translate(0.5,0.5)"><rect x="1260" y="90" width="300" height="200" rx="30" ry="30" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="1410" y="153">PostgreSQL Database</text><text x="1410" y="167">• Port: 5433:5432</text><text x="1410" y="181">• Database: mindgarden</text><text x="1410" y="195">• init.sql (schema + seed)</text><text x="1410" y="209">• Views, Functions, Triggers</text><text x="1410" y="223">• 3NF Normalization</text><text x="1410" y="237">• 14 tables</text></g></g></g><g data-cell-id="pgadmin"><g transform="translate(0.5,0.5)"><rect x="1260" y="360" width="300" height="140" rx="21" ry="21" fill="#ffffff" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="1410" y="407">pgAdmin 4 (Monitoring)</text><text x="1410" y="421">• Port: 5050:80</text><text x="1410" y="435">• Database administration</text><text x="1410" y="449">• Query interface</text><text x="1410" y="463">• Schema inspection</text></g></g></g><g data-cell-id="edge_nginx_php"><g transform="translate(0.5,0.5)"><path d="M 286.84 240 L 351.44 282.32" fill="none" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/><path d="M 358.13 286.71 L 349.25 285.67 L 353.63 278.98 Z" fill="#2a9d8f" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(42, 157, 143), rgb(47, 146, 134)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g></g><g data-cell-id="edge_php_postgres"><g transform="translate(0.5,0.5)"><path d="M 1160 328.46 L 1251.05 278.04" fill="none" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/><path d="M 1258.04 274.16 L 1252.98 281.54 L 1249.11 274.54 Z" fill="#2a9d8f" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(42, 157, 143), rgb(47, 146, 134)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g></g><g data-cell-id="edge_pgadmin_postgres"><g transform="translate(0.5,0.5)"><path d="M 1410 360 L 1410 300.24" fill="none" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/><path d="M 1410 292.24 L 1414 300.24 L 1406 300.24 Z" fill="#2a9d8f" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(42, 157, 143), rgb(47, 146, 134)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g></g></g><g data-cell-id="MIi9Vsr8QbXr4GMsG1nW-2"><g transform="translate(0.5,0.5)"><path d="M 100 1140 L 100 690.11 L 180 690.11 L 180 257.58" fill="none" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 180 247.83 L 186.5 260.83 L 180 257.58 L 173.5 260.83 Z" fill="#000000" stroke="#000000" stroke-width="7" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="client"><g transform="translate(0.5,0.5)"><rect x="0" y="1140" width="200" height="80" rx="12" ry="12" fill="#e9f5f1" stroke="#2a9d8f" pointer-events="all" style="fill: light-dark(rgb(233, 245, 241), rgb(20, 31, 27)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g><g><g fill="#12302b" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(18, 48, 43), rgb(182, 208, 204));"><text x="100" y="1171">Client Browser</text><text x="100" y="1185">HTTP/HTTPS Requests</text><text x="100" y="1199">AJAX Calls</text></g></g></g><g data-cell-id="edge_client_nginx"><g transform="translate(0.5,0.5)"><path d="M 103.17 1140 L 173.65 250.2" fill="none" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/><path d="M 174.28 242.23 L 177.63 250.52 L 169.66 249.89 Z" fill="#2a9d8f" stroke="#2a9d8f" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(42, 157, 143), rgb(47, 146, 134)); stroke: light-dark(rgb(42, 157, 143), rgb(47, 146, 134));"/></g></g></g></g></g></svg>